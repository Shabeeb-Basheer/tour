{% extends 'web/base.html' %}
{% load static %}
{% block content %}
  <div  class="container">
    <div class="row justify-between py-30 mt-80">
      <div class="col-auto">
        <div class="text-14">Home > Hotels > {{ hotel.title }}</div>
      </div>

    </div>
  </div>

  <section class="">
    <div data-anim-wrap class="container">
      <div  class="row y-gap-20 justify-between items-end">
        <div class="col-auto">
          <h2 class="text-40 sm:text-30 lh-14 mt-20">{{ hotel.title }}</h2>

          <div class="row x-gap-20 y-gap-20 items-center pt-20">

            <div class="col-auto">
              <div class="d-flex items-center">
                <i class="icon-pin text-16 mr-5"></i>
                {{ hotel.place }}
              </div>
            </div>
       
          </div>
        </div>

        <div class="col-auto">
          <div class="d-flex x-gap-30 y-gap-10">
            <a href="https://api.whatsapp.com/send?text={{request.build_absolute_uri}}" class="d-flex items-center" target="_blank">
              <i class="icon-share flex-center text-16 mr-10"></i>
              Share
            </a>
          
          </div>
        </div>
      </div>
      <div class="tourSingleGrid -type-1 mt-30">
        <div class="tourSingleGrid__grid mobile-css-slider-2">
          {% for hotel in hotel.get_hotel_image|slice:":4" %}
          <img src="{{ hotel.image.url }}" alt="image" data-src="{{ hotel.image.url }}"/>
          {% endfor %}
        </div>

        {% comment %} <div class="tourSingleGrid__button">
          <a href="{{ hotel.image.url }}" class="js-gallery" data-gallery="gallery{{ hotel.id }}"><span class="button -accent-1 py-10 px-20 rounded-200 bg-theme-color-2 lh-16 text-white">See all photos</span></a>
          {% for image in hotel.get_hotel_image %}
            <a href="{{ image.image.url }}" class="js-gallery" data-gallery="gallery{{ hotel.id }}"></a>
          {% endfor %}
        </div> {% endcomment %}

        <div class="tourSingleGrid__button">
          <a data-bs-toggle="modal" data-bs-target="#hotelimageModal" ><span class="button -accent-1 py-10 px-20 rounded-200 bg-theme-color-2 lh-16 text-white">See all photos</span></a>
          {% comment %} {% for image in hotel.get_hotel_image %}
            <a href="{{ image.image.url }}" class="js-gallery" data-gallery="gallery{{ hotel.id }}"></a>
          {% endfor %} {% endcomment %}
        </div>
      </div>
    </div>
  </section>

  <section class="layout-pt-md js-pin-container">
    <div class="container">
      <div class="row y-gap-30 justify-between">
        <div class="col-lg-8">
          <div class="row y-gap-20 justify-between items-center layout-pb-sm">
            <!-- Tabs Navigation -->

            <div class="tabs -tourSingle js-tabs">
              <div class="tab-section sticky">
                <div class="tabs__controls row x-gap-30 y-gap-10 js-tabs-controls swiper-container">
                  <div class="swiper-wrapper">
                      <div class="col-auto swiper-slide">
                          <button class="tabs__button text-30 md:text-20 fw-700 js-tabs-button is-tab-el-active" data-tab-target="#tab-item-1">Overview</button>
                      </div>
                      <div class="col-auto swiper-slide">
                          <button class="tabs__button text-30 md:text-20 fw-700 js-tabs-button" data-tab-target="#tab-item-2">Rooms</button>
                      </div>
                     
                      <div class="col-auto swiper-slide">
                          <button class="tabs__button text-30 md:text-20 fw-700 js-tabs-button" data-tab-target="#tab-item-7">Space</button>
                      </div>
                      <div class="col-auto swiper-slide">
                          <button class="tabs__button text-30 md:text-20 fw-700 js-tabs-button" data-tab-target="#tab-item-6">Amenities</button>
                      </div>
                      <div class="col-auto swiper-slide">
                          <button class="tabs__button text-30 md:text-20 fw-700 js-tabs-button" data-tab-target="#tab-item-8">Reviews</button>
                      </div>
                      <div class="col-auto swiper-slide">
                        <button class="tabs__button text-30 md:text-20 fw-700 js-tabs-button" data-tab-target="#tab-item-5">FAQ</button>
                    </div>
                
                  </div>
              </div>
                <div class="line mt-20 mb-20"></div>
            </div>

              <div class="tabs__content pt-40 js-tabs-content">
                <div id="tab-item-1" class="layout-pb-sm is-tab-el-active">
                  <div class="row y-gap-20 justify-between items-center layout-pb-md">

                    <div class="col-lg-3 col-6">
                      <div class="d-flex items-center">
                        <div class="flex-center size-50 rounded-12 border-1">
                          <i class="text-20 icon-teamwork"></i>
                        </div>

                        <div class="ml-10">
                          <div class="lh-16">Guests</div>
                          <div class="text-14 text-light-2 lh-16">{{hotel.guest_capasity}}</div>
                        </div>
                      </div>
                    </div>

                    <div class="col-lg-3 col-6">
                      <div class="d-flex items-center">
                        <div class="flex-center size-50 rounded-12 border-1">
                          <i class="text-20 icon-bed-2"></i>
                        </div>

                        <div class="ml-10">
                          <div class="lh-16">Rooms</div>
                          <div class="text-14 text-light-2 lh-16">{{hotel.room_capacity}}</div>
                        </div>
                      </div>
                    </div>
                    
                    
                    <div class="col-lg-3 col-6">
                      <div class="d-flex items-center">
                        <div class="flex-center size-50 rounded-12 border-1">
                          <i class="fa-solid fa-bath text-20"></i>
                        </div>

                        <div class="ml-10">
                          <div class="lh-16">Baths</div>
                          <div class="text-14 text-light-2 lh-16">{{hotel.bathroom_capasity}}</div>
                        </div>
                      </div>
                    </div>

                  

                    <div class="col-lg-3 col-6">
                      <div class="d-flex items-center">
                        <div class="flex-center size-50 rounded-12 border-1">
                          <i class="fa-solid fa-drumstick-bite text-20"></i>
                        </div>

                        <div class="ml-10">
                          <div class="lh-16">Meals</div>
                          <div class="text-14 text-light-2 lh-16">{{hotel.meals}}</div>
                        </div>
                      </div>
                    </div>

                    
                  </div>

                  <h2 class="text-30">Overview</h2>
                  <p class="mt-20">{{hotel.description}}</p>

                  <h3 class="text-20 fw-500 mt-20">Highlights</h3>
                  <ul class="ulList mt-20 " id="tab-item-2">
                    {% for property_highlight in hotel.get_hotel_highlights %}
                    <li>{{property_highlight.title}}</li>
                    {% endfor %}
                  </ul>
                </div>

                <div  class="layout-pb-sm">
                  <h2 class="text-20">Types of Rooms</h2>

                  <div class="row x-gap-130 y-gap-20 pt-20">
                    <div class="col-lg-12">
                      <div class="y-gap-15">
                        {% for room_type in hotel.get_room_type %}
                        <div class="d-flex">
                          <i class="icon-check flex-center text-10 size-24 rounded-full text-green-2 bg-green-1 mr-15"></i>
                          {{room_type.title}} : {{room_type.description}}
                        </div>
                        {% endfor %}
                     
                      </div>
                    </div>
                  </div>
                </div>

                <div id="tab-item-6"  class="layout-pb-sm  amenity-tab">
                  <h2 class="text-20">Amenities</h2>
                  {% for amenity_category in amenity_categories %}
                    <div class="overallRating mt-30">
                      <div class="overallRating__list">
                        <div class="overallRating__item">
                          <div class="overallRating__content">
                            <div class="overallRating__icon amenity-icon">
                              <img src="{{ amenity_category.icon.url }}" alt="{{ amenity_category.title }}">
                            </div>
                            <div class="overallRating__info">
                              <h5 class="text-16 fw-500">{{ amenity_category.title }}</h5>
                            </div>
                          </div>
                        </div>
                        {% for amenity in amenities_content %}
                          {% if amenity.category == amenity_category %}
                            <div class="overallRating__item">
                              <div class="overallRating__content">
                                {% if amenity.icon %}
                                  <div class="overallRating__icon">
                                    <img src="{{ amenity.icon.url }}" alt="{{ amenity.title }}">
                                  </div>
                                {% endif %}
                                <div class="overallRating__info">
                                  <h5 class="text-16 fw-500">{{ amenity.title }}</h5>
                                </div>
                              </div>
                            </div>
                          {% endif %}
                        {% endfor %}
                      </div>
                    </div>
                  {% endfor %}
                
                  <span id="tab-item-7"></span>
                </div>

                <div  class="layout-pb-sm space-tab">
                  <div class="container">
                    <div class="row">
                      <div class="col-auto">
                        <h2 class="text-20">Space</h2>
                      </div>
                    </div>
              
                    <div class="relative pt-40 sm:pt-20">
                      <div class="overflow-hidden pb-10 js-section-slider space-image-slider" data-gap="30" data-slider-cols="xl-2 lg-3 md-2 sm-1 base-1" data-nav-prev="js-slider1-prev" data-nav-next="js-slider1-next" >
                        <div class="swiper-wrapper">

                        {% for space_image in hotel.get_space_image %}
                         <div class="swiper-slide">
                            <a href="{{space_image.image.url}}" class="tourCard -type-1 py-10 px-10 border-1 rounded-12 bg-white -hover-shadow d-block js-gallery" data-gallery="gallery1">
                              <div class="tourCard__header">
                                <div class="tourCard__image ratio ratio-28:20">
                                  <img src="{{space_image.image.url}}" alt="image" class="img-ratio rounded-12" />
                                </div>
              
                                </div>
              
                              <div class="tourCard__content px-10 pt-10 ">
                                <h3 class="tourCard__title text-16 fw-500 mt-5"><span>{{space_image.title}}</span></h3>
                              </div>

                            </a>
                          </div>
                          {% endfor %}
                        </div>
                      </div>
              
                      <div class="navAbsolute" id="tab-item-8">
                        <button class="navAbsolute__button bg-white js-slider1-prev"><i class="icon-arrow-left text-14"></i></button>
              
                        <button class="navAbsolute__button bg-white js-slider1-next"><i class="icon-arrow-right text-14"></i></button>
                      </div>
                    </div>
                  </div>
                </div>

                <div  class="layout-pb-sm reviews-tab">
                  <div class="container">
                    <div class="row">
                      <div class="col-auto">
                        <h2 class="text-20">Reviews</h2>
                      </div>
                    </div>
              
                    <div class="row justify-center  md:pt-20">
                      <div class="col-xl-12 col-md-12 col-sm-12">
                        <div class="overflow-hidden js-section-slider" data-slider-cols="xl-1 lg-1 md-1 sm-1 base-1" data-pagination="js-testimonials-pagination">
                          <div class="swiper-wrapper">
                          {% for testimonial in testimonials %}
                            <div class="swiper-slide">
                              <div class="testimonials -type-1 pt-10 text-center">
                             
                                <div class="text-18 fw-500 text-accent-1 ">"{{testimonial.title}}"</div>
            
                                <div class="text-15 fw-500 mt-20">{{testimonial.content}}</div>
            
                                <div class="mt-20 md:mt-40">
                                  <div class="lh-16 text-16 fw-500">{{testimonial.name}}</div>
                                  <div class="lh-16" >
                                    {% if testimonial.logo %}
                                     <img src="{{testimonial.logo.url}}" alt="Image" class="logo-image" style="height: 20px;">
                                     {% endif %}
                                      {{testimonial.source}}
                                    </div>
                                </div>
                              </div>
                            </div>
                            {% endfor %}
            
                          </div>
            
                          <div class="pagination -type-1 justify-center pt-60 md:pt-40 js-testimonials-pagination" id="tab-item-5">
                            <div class="pagination__button"></div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="layout-pb-sm faq-section" >
                  <h2 class="text-20">FAQ</h2>

                  <div class="accordion -simple row y-gap-20 mt-30 js-accordion">
                    {% for faq in hotel.get_hotel_faq %}
                    <div class="col-12">
                      <div class="accordion__item px-20 py-15 border-1 rounded-12">
                        <div class="accordion__button d-flex items-center justify-between">
                          <div class="button text-16 text-dark-1 faq-btn">{{faq.question}}</div>

                          <div class="accordion__icon size-30 flex-center bg-light-2 rounded-full">
                            <i class="icon-plus"></i>
                            <i class="icon-minus"></i>
                          </div>
                        </div>

                        <div class="accordion__content" >
                          <div class="pt-20">
                            <p >{{faq.answer}}</p>
                          </div>
                        </div>
                      </div>
                    </div>
                    {% endfor %}
                   
                  </div>
                </div>


              </div>
            </div>
          </div>

          <div class="mapTourSingle ">
            <iframe src="{{hotel.location_url}}" width="100%" height="350" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
          </div>

          <div class="line mt-60 mb-60"></div>
        </div>

        <div class="col-lg-4 pb-10 booking-enquiry-form">
          <div class="d-flex justify-end js-pin-content">
            <div class="tourSingleSidebar">
              <form method="post">
                {% csrf_token %}
             
                 <!-- Name -->
                 <div class="searchFormItem__content mt-2">
                  <div class="text-14">Name</div>
                  {{ form.name }}
                </div>
              
                <!-- Phone Number -->
                <div class="searchFormItem__content mt-2">
                  <div class="text-14">Phone Number</div>
                  {{ form.phone }}
                </div>
              
                <!-- Email -->
                <div class="searchFormItem__content mt-2">
                  <div class="text-14">Email</div>
                  {{ form.email }}
                </div>

                <div class="searchFormItem__content mt-2 js-calendar">
                  <div class="text-14">Check In</div>
                  {{ form.check_in }}
                </div>

                <div class="searchFormItem__content mt-2 js-calendar">
                  <div class="text-14">Check Out</div>
                  {{ form.check_out }}
                </div>

                <div class="line mt-20 mb-20"></div>


                <div>
                  <div class="searchFormItem__content mt-2 js-calendar">
                    <div class="text-14">Adults</div>
                    {{ form.adult }}
                  </div>
                </div>
  
                <div class="mt-15">
                  <div class="searchFormItem__content mt-2 js-calendar">
                    <div class="text-14">Childrens (0-10 years)</div>
                    {{ form.children }}
                  </div>
                </div>
  
                  <div class="line mt-20 mb-20"></div>


              <div class="d-flex items-center justify-between">
                <div class="text-18 fw-500">Price <span class="text-15 text-gray">({{hotel.per}})</span> :</div>
                <div class="text-18 fw-500">â‚¹{{hotel.price}}</div>
              </div>

               <button class="button -md -dark-1 col-12 bg-accent-1 text-white mt-20" type="submit">
                Book Now
                <i class="icon-arrow-top-right ml-10"></i>
              </button> 

          </form>
            </div>
          </div>
        </div> 

    </div>
  </div>
  </section>

 <section class="layout-pt-xl layout-pb-xl trending-destination-section">
      <div data-anim-wrap class="container">
        <div  class="row justify-between items-end y-gap-10">
          <div class="col-auto">
            <h2 class="text-30">Sightseeing Places</h2>
          </div>

          <div class="col-auto">

            <button class="buttonArrow d-flex items-center " >
              <a href="{% url "web:sightseeing_place" %}">
              <span>See all</span>
              <i class="icon-arrow-top-right text-16 ml-10"></i>
            </a>
            </button>

          </div>
        </div>

        <div  class="row y-gap-30 pt-40 sm:pt-20">
          {% for near_place in near_places %}
          <div class="col-lg-2 col-md-3 col-6">
            <a href="{{near_place.location}}" class="featureCard -type-2 -hover-image-scale" targ="_blank">
              <div class="featureCard__image ratio ratio-19:22 rounded-24 -hover-image-scale__image">
                <img src="{{near_place.image.url}}" alt="image" class="img-ratio rounded-24">
              </div>
          
              <div class="featureCard__content ">
                <h4 class="text-white text-14">{{near_place.title}}</h4>
              </div>
            </a>
          </div>
          {% endfor %}
        </div>
      </div>
    </section> 
    


<div class="modal fade" id="hotelimageModal" tabindex="-1" aria-labelledby="hotelimageModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        {% for hotel in hotel.get_hotel_image %}
        <img src="{{ hotel.image.url }}" data-src={{hotel.image.url}} alt="image" / class="mt-3">
        {% endfor %}
      </div>
     
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const tabButtons = document.querySelectorAll('.js-tabs-button');

    tabButtons.forEach(button => {
      button.addEventListener('click', function(event) {
        event.preventDefault();

        const targetId = button.getAttribute('data-tab-target');
        const targetElement = document.querySelector(targetId);

        if (!targetElement) {
          console.error(`No element found for target ID: ${targetId}`);
          return;
        }

        // Scroll to the top of the target element
        targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });

        // Optionally, update the active state of the tabs
        tabButtons.forEach(btn => btn.classList.remove('is-tab-el-active'));
        button.classList.add('is-tab-el-active');

        // Ensure all tab contents are hidden, then show the target content
        const tabContents = document.querySelectorAll('.tabs__content > div');
        tabContents.forEach(content => content.classList.remove('is-tab-el-active'));
        targetElement.classList.add('is-tab-el-active');
      });
    });
  });

  document.addEventListener('DOMContentLoaded', function () {
    var swiper = new Swiper('.swiper-container', {
        slidesPerView: 5,
        spaceBetween: 40,
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
        breakpoints: {
            768: {
                slidesPerView: 6,
            },
            1024: {
                slidesPerView: 6,
            },
        },
    });
});
</script>
{% endblock %}
